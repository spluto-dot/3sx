/**
 * @file effc3.c
 * TODO: identify what this effect does
 */

#include "sf33rd/Source/Game/effect/effc3.h"
#include "common.h"
#include "sf33rd/Source/Game/effect/eff00.h"
#include "sf33rd/Source/Game/effect/effc2.h"
#include "sf33rd/Source/Game/effect/effect.h"
#include "sf33rd/Source/Game/effect/effk2.h"
#include "sf33rd/Source/Game/effect/effk3.h"
#include "sf33rd/Source/Game/effect/effk4.h"
#include "sf33rd/Source/Game/engine/charid.h"
#include "sf33rd/Source/Game/engine/charset.h"
#include "sf33rd/Source/Game/engine/hitcheck.h"
#include "sf33rd/Source/Game/engine/plmain.h"
#include "sf33rd/Source/Game/engine/slowf.h"
#include "sf33rd/Source/Game/engine/workuser.h"
#include "sf33rd/Source/Game/rendering/aboutspr.h"

void bs2_display_C3(WORK* wk);
void set_display_car_parts(WORK_Other* wk);
void clear_parts_hit_data(WORK* wk);
void effC3_main_process(WORK_Other* ewk);
s32 get_efffC3_nsc(WORK* wk, WORK* c2wk);

const u16 effC3_nsc[6] = { 0x7E1A, 0x7E1A, 0x7E1A, 0x7E1A, 0x7E1A, 0x7E1A };

const u16 car_parts[7][8][18][2] = { { { { 0x7D10, 0x0000 },
                                         { 0x7D11, 0x0000 },
                                         { 0x7D12, 0x0000 },
                                         { 0x7D13, 0x0000 },
                                         { 0x7D14, 0x0000 },
                                         { 0x7D15, 0x0000 },
                                         { 0x7D16, 0x0000 },
                                         { 0x7D17, 0x0000 },
                                         { 0x7D18, 0x0000 },
                                         { 0x7D19, 0x0000 },
                                         { 0x7D1A, 0x0000 },
                                         { 0x7D1B, 0x0000 },
                                         { 0x7D1C, 0x0000 },
                                         { 0x7D1D, 0x0000 },
                                         { 0x7D1E, 0x0000 },
                                         { 0x7D1F, 0x0000 },
                                         { 0x7D20, 0x0000 },
                                         { 0x7D21, 0x0000 } },
                                       { { 0x7D22, 0x0000 },
                                         { 0x7D23, 0x0000 },
                                         { 0x7D24, 0x0000 },
                                         { 0x7D25, 0x0000 },
                                         { 0x7D26, 0x0000 },
                                         { 0x7D27, 0x0000 },
                                         { 0x7D28, 0x0000 },
                                         { 0x7D29, 0x0000 },
                                         { 0x7D2A, 0x0000 },
                                         { 0x7D2B, 0x0000 },
                                         { 0x7D2C, 0x0000 },
                                         { 0x7D2D, 0x0000 },
                                         { 0x7D2E, 0x0000 },
                                         { 0x7D2F, 0x0000 },
                                         { 0x7D30, 0x0000 },
                                         { 0x7D31, 0x0000 },
                                         { 0x7D32, 0x0000 },
                                         { 0x7D33, 0x0000 } },
                                       { { 0x7D34, 0x0000 },
                                         { 0x7D35, 0x0000 },
                                         { 0x7D36, 0x0000 },
                                         { 0x7D37, 0x0000 },
                                         { 0x7D38, 0x0000 },
                                         { 0x7D39, 0x0000 },
                                         { 0x7D3A, 0x0000 },
                                         { 0x7D3B, 0x0000 },
                                         { 0x7D3C, 0x0000 },
                                         { 0x7D3D, 0x0000 },
                                         { 0x7D3E, 0x0000 },
                                         { 0x7D3F, 0x0000 },
                                         { 0x7D40, 0x0000 },
                                         { 0x7D41, 0x0000 },
                                         { 0x7D42, 0x0000 },
                                         { 0x7D43, 0x0000 },
                                         { 0x7D44, 0x0000 },
                                         { 0x7D45, 0x0000 } },
                                       { { 0x7D46, 0x0000 },
                                         { 0x7D47, 0x0000 },
                                         { 0x7D48, 0x0000 },
                                         { 0x7D49, 0x0000 },
                                         { 0x7D4A, 0x0000 },
                                         { 0x7D4B, 0x0000 },
                                         { 0x7D4C, 0x0000 },
                                         { 0x7D4D, 0x0000 },
                                         { 0x7D4E, 0x0000 },
                                         { 0x7D4F, 0x0000 },
                                         { 0x7D50, 0x0000 },
                                         { 0x7D51, 0x0000 },
                                         { 0x7D52, 0x0000 },
                                         { 0x7D53, 0x0000 },
                                         { 0x7D54, 0x0000 },
                                         { 0x7D55, 0x0000 },
                                         { 0x7D56, 0x0000 },
                                         { 0x7D57, 0x0000 } },
                                       { { 0x7D58, 0x0000 },
                                         { 0x7D59, 0x0000 },
                                         { 0x7D5A, 0x0000 },
                                         { 0x7D5B, 0x0000 },
                                         { 0x7D5C, 0x0000 },
                                         { 0x7D5D, 0x0000 },
                                         { 0x7D5E, 0x0000 },
                                         { 0x7D5F, 0x0000 },
                                         { 0x7D60, 0x0000 },
                                         { 0x7D61, 0x0000 },
                                         { 0x7D62, 0x0000 },
                                         { 0x7D63, 0x0000 },
                                         { 0x7D64, 0x0000 },
                                         { 0x7D65, 0x0000 },
                                         { 0x7D66, 0x0000 },
                                         { 0x7D67, 0x0000 },
                                         { 0x7D68, 0x0000 },
                                         { 0x7D69, 0x0000 } },
                                       { { 0x7D6A, 0x0000 },
                                         { 0x7D6B, 0x0000 },
                                         { 0x7D6C, 0x0000 },
                                         { 0x7D6D, 0x0000 },
                                         { 0x7D6E, 0x0000 },
                                         { 0x7D6F, 0x0000 },
                                         { 0x7D70, 0x0000 },
                                         { 0x7D71, 0x0000 },
                                         { 0x7D72, 0x0000 },
                                         { 0x7D73, 0x0000 },
                                         { 0x7D74, 0x0000 },
                                         { 0x7D75, 0x0000 },
                                         { 0x7D76, 0x0000 },
                                         { 0x7D77, 0x0000 },
                                         { 0x7D78, 0x0000 },
                                         { 0x7D79, 0x0000 },
                                         { 0x7D7A, 0x0000 },
                                         { 0x7D7B, 0x0000 } },
                                       { { 0x7D7C, 0x0000 },
                                         { 0x7D7D, 0x0000 },
                                         { 0x7D7E, 0x0000 },
                                         { 0x7D7F, 0x0000 },
                                         { 0x7D80, 0x0000 },
                                         { 0x7D81, 0x0000 },
                                         { 0x7D82, 0x0000 },
                                         { 0x7D83, 0x0000 },
                                         { 0x7D84, 0x0000 },
                                         { 0x7D85, 0x0000 },
                                         { 0x7D86, 0x0000 },
                                         { 0x7D87, 0x0000 },
                                         { 0x7D88, 0x0000 },
                                         { 0x7D89, 0x0000 },
                                         { 0x7D8A, 0x0000 },
                                         { 0x7D8B, 0x0000 },
                                         { 0x7D8C, 0x0000 },
                                         { 0x7D8D, 0x0000 } },
                                       { { 0x7D8E, 0x0000 },
                                         { 0x7D8F, 0x0000 },
                                         { 0x7D90, 0x0000 },
                                         { 0x7D91, 0x0000 },
                                         { 0x7D92, 0x0000 },
                                         { 0x7D93, 0x0000 },
                                         { 0x7D94, 0x0000 },
                                         { 0x7D95, 0x0000 },
                                         { 0x7D96, 0x0000 },
                                         { 0x7D97, 0x0000 },
                                         { 0x7D98, 0x0000 },
                                         { 0x7D99, 0x0000 },
                                         { 0x7D9A, 0x0000 },
                                         { 0x7D9B, 0x0000 },
                                         { 0x7D9C, 0x0000 },
                                         { 0x7D9D, 0x0000 },
                                         { 0x7D9E, 0x0000 },
                                         { 0x7D9F, 0x0000 } } },
                                     { { { 0x7C80, 0x0000 },
                                         { 0x7C81, 0x0000 },
                                         { 0x7C82, 0x0000 },
                                         { 0x7C83, 0x0000 },
                                         { 0x7C84, 0x0000 },
                                         { 0x7C85, 0x0000 },
                                         { 0x7C86, 0x0000 },
                                         { 0x7C87, 0x0000 },
                                         { 0x7C88, 0x0000 },
                                         { 0x7C89, 0x0000 },
                                         { 0x7C8A, 0x0000 },
                                         { 0x7C8B, 0x0000 },
                                         { 0x7C8C, 0x0000 },
                                         { 0x7C8D, 0x0000 },
                                         { 0x7C8E, 0x0000 },
                                         { 0x7C8F, 0x0000 },
                                         { 0x7C90, 0x0000 },
                                         { 0x7C91, 0x0000 } },
                                       { { 0x7C92, 0x0000 },
                                         { 0x7C93, 0x0000 },
                                         { 0x7C94, 0x0000 },
                                         { 0x7C95, 0x0000 },
                                         { 0x7C96, 0x0000 },
                                         { 0x7C97, 0x0000 },
                                         { 0x7C98, 0x0000 },
                                         { 0x7C99, 0x0000 },
                                         { 0x7C9A, 0x0000 },
                                         { 0x7C9B, 0x0000 },
                                         { 0x7C9C, 0x0000 },
                                         { 0x7C9D, 0x0000 },
                                         { 0x7C9E, 0x0000 },
                                         { 0x7C9F, 0x0000 },
                                         { 0x7CA0, 0x0000 },
                                         { 0x7CA1, 0x0000 },
                                         { 0x7CA2, 0x0000 },
                                         { 0x7CA3, 0x0000 } },
                                       { { 0x7CA4, 0x0000 },
                                         { 0x7CA5, 0x0000 },
                                         { 0x7CA6, 0x0000 },
                                         { 0x7CA7, 0x0000 },
                                         { 0x7CA8, 0x0000 },
                                         { 0x7CA9, 0x0000 },
                                         { 0x7CAA, 0x0000 },
                                         { 0x7CAB, 0x0000 },
                                         { 0x7CAC, 0x0000 },
                                         { 0x7CAD, 0x0000 },
                                         { 0x7CAE, 0x0000 },
                                         { 0x7CAF, 0x0000 },
                                         { 0x7CB0, 0x0000 },
                                         { 0x7CB1, 0x0000 },
                                         { 0x7CB2, 0x0000 },
                                         { 0x7CB3, 0x0000 },
                                         { 0x7CB4, 0x0000 },
                                         { 0x7CB5, 0x0000 } },
                                       { { 0x7CB6, 0x0000 },
                                         { 0x7CB7, 0x0000 },
                                         { 0x7CB8, 0x0000 },
                                         { 0x7CB9, 0x0000 },
                                         { 0x7CBA, 0x0000 },
                                         { 0x7CBB, 0x0000 },
                                         { 0x7CBC, 0x0000 },
                                         { 0x7CBD, 0x0000 },
                                         { 0x7CBE, 0x0000 },
                                         { 0x7CBF, 0x0000 },
                                         { 0x7CC0, 0x0000 },
                                         { 0x7CC1, 0x0000 },
                                         { 0x7CC2, 0x0000 },
                                         { 0x7CC3, 0x0000 },
                                         { 0x7CC4, 0x0000 },
                                         { 0x7CC5, 0x0000 },
                                         { 0x7CC6, 0x0000 },
                                         { 0x7CC7, 0x0000 } },
                                       { { 0x7CC8, 0x0000 },
                                         { 0x7CC9, 0x0000 },
                                         { 0x7CCA, 0x0000 },
                                         { 0x7CCB, 0x0000 },
                                         { 0x7CCC, 0x0000 },
                                         { 0x7CCD, 0x0000 },
                                         { 0x7CCE, 0x0000 },
                                         { 0x7CCF, 0x0000 },
                                         { 0x7CD0, 0x0000 },
                                         { 0x7CD1, 0x0000 },
                                         { 0x7CD2, 0x0000 },
                                         { 0x7CD3, 0x0000 },
                                         { 0x7CD4, 0x0000 },
                                         { 0x7CD5, 0x0000 },
                                         { 0x7CD6, 0x0000 },
                                         { 0x7CD7, 0x0000 },
                                         { 0x7CD8, 0x0000 },
                                         { 0x7CD9, 0x0000 } },
                                       { { 0x7CDA, 0x0000 },
                                         { 0x7CDB, 0x0000 },
                                         { 0x7CDC, 0x0000 },
                                         { 0x7CDD, 0x0000 },
                                         { 0x7CDE, 0x0000 },
                                         { 0x7CDF, 0x0000 },
                                         { 0x7CE0, 0x0000 },
                                         { 0x7CE1, 0x0000 },
                                         { 0x7CE2, 0x0000 },
                                         { 0x7CE3, 0x0000 },
                                         { 0x7CE4, 0x0000 },
                                         { 0x7CE5, 0x0000 },
                                         { 0x7CE6, 0x0000 },
                                         { 0x7CE7, 0x0000 },
                                         { 0x7CE8, 0x0000 },
                                         { 0x7CE9, 0x0000 },
                                         { 0x7CEA, 0x0000 },
                                         { 0x7CEB, 0x0000 } },
                                       { { 0x7CEC, 0x0000 },
                                         { 0x7CED, 0x0000 },
                                         { 0x7CEE, 0x0000 },
                                         { 0x7CEF, 0x0000 },
                                         { 0x7CF0, 0x0000 },
                                         { 0x7CF1, 0x0000 },
                                         { 0x7CF2, 0x0000 },
                                         { 0x7CF3, 0x0000 },
                                         { 0x7CF4, 0x0000 },
                                         { 0x7CF5, 0x0000 },
                                         { 0x7CF6, 0x0000 },
                                         { 0x7CF7, 0x0000 },
                                         { 0x7CF8, 0x0000 },
                                         { 0x7CF9, 0x0000 },
                                         { 0x7CFA, 0x0000 },
                                         { 0x7CFB, 0x0000 },
                                         { 0x7CFC, 0x0000 },
                                         { 0x7CFD, 0x0000 } },
                                       { { 0x7CFE, 0x0000 },
                                         { 0x7CFF, 0x0000 },
                                         { 0x7D00, 0x0000 },
                                         { 0x7D01, 0x0000 },
                                         { 0x7D02, 0x0000 },
                                         { 0x7D03, 0x0000 },
                                         { 0x7D04, 0x0000 },
                                         { 0x7D05, 0x0000 },
                                         { 0x7D06, 0x0000 },
                                         { 0x7D07, 0x0000 },
                                         { 0x7D08, 0x0000 },
                                         { 0x7D09, 0x0000 },
                                         { 0x7D0A, 0x0000 },
                                         { 0x7D0B, 0x0000 },
                                         { 0x7D0C, 0x0000 },
                                         { 0x7D0D, 0x0000 },
                                         { 0x7D0E, 0x0000 },
                                         { 0x7D0F, 0x0000 } } },
                                     { { { 0x7BF0, 0x0030 },
                                         { 0x7BF1, 0x0030 },
                                         { 0x7BF2, 0x0030 },
                                         { 0x7BF3, 0x0030 },
                                         { 0x7BF4, 0x0030 },
                                         { 0x7BF5, 0x0030 },
                                         { 0x7BF6, 0x0030 },
                                         { 0x7BF7, 0x0030 },
                                         { 0x7BF8, 0x0030 },
                                         { 0x7BF9, 0x0030 },
                                         { 0x7BFA, 0x0030 },
                                         { 0x7BFB, 0x0030 },
                                         { 0x7BFC, 0x0030 },
                                         { 0x7BFD, 0x0030 },
                                         { 0x7BFE, 0x0030 },
                                         { 0x7BFF, 0x0030 },
                                         { 0x7C00, 0x0030 },
                                         { 0x7C01, 0x0030 } },
                                       { { 0x7C02, 0x0030 },
                                         { 0x7C03, 0x0030 },
                                         { 0x7C04, 0x0030 },
                                         { 0x7C05, 0x0030 },
                                         { 0x7C06, 0x0030 },
                                         { 0x7C07, 0x0030 },
                                         { 0x7C08, 0x0030 },
                                         { 0x7C09, 0x0030 },
                                         { 0x7C0A, 0x0030 },
                                         { 0x7C0B, 0x0030 },
                                         { 0x7C0C, 0x0030 },
                                         { 0x7C0D, 0x0030 },
                                         { 0x7C0E, 0x0030 },
                                         { 0x7C0F, 0x0030 },
                                         { 0x7C10, 0x0030 },
                                         { 0x7C11, 0x0030 },
                                         { 0x7C12, 0x0030 },
                                         { 0x7C13, 0x0030 } },
                                       { { 0x7C14, 0x0030 },
                                         { 0x7C15, 0x0030 },
                                         { 0x7C16, 0x0030 },
                                         { 0x7C17, 0x0030 },
                                         { 0x7C18, 0x0030 },
                                         { 0x7C19, 0x0030 },
                                         { 0x7C1A, 0x0030 },
                                         { 0x7C1B, 0x0030 },
                                         { 0x7C1C, 0x0030 },
                                         { 0x7C1D, 0x0030 },
                                         { 0x7C1E, 0x0030 },
                                         { 0x7C1F, 0x0030 },
                                         { 0x7C20, 0x0030 },
                                         { 0x7C21, 0x0030 },
                                         { 0x7C22, 0x0030 },
                                         { 0x7C23, 0x0030 },
                                         { 0x7C24, 0x0030 },
                                         { 0x7C25, 0x0030 } },
                                       { { 0x7C26, 0x0030 },
                                         { 0x7C27, 0x0030 },
                                         { 0x7C28, 0x0030 },
                                         { 0x7C29, 0x0030 },
                                         { 0x7C2A, 0x0030 },
                                         { 0x7C2B, 0x0030 },
                                         { 0x7C2C, 0x0030 },
                                         { 0x7C2D, 0x0030 },
                                         { 0x7C2E, 0x0030 },
                                         { 0x7C2F, 0x0030 },
                                         { 0x7C30, 0x0030 },
                                         { 0x7C31, 0x0030 },
                                         { 0x7C32, 0x0030 },
                                         { 0x7C33, 0x0030 },
                                         { 0x7C34, 0x0030 },
                                         { 0x7C35, 0x0030 },
                                         { 0x7C36, 0x0030 },
                                         { 0x7C37, 0x0030 } },
                                       { { 0x7C38, 0x0030 },
                                         { 0x7C39, 0x0030 },
                                         { 0x7C3A, 0x0030 },
                                         { 0x7C3B, 0x0030 },
                                         { 0x7C3C, 0x0030 },
                                         { 0x7C3D, 0x0030 },
                                         { 0x7C3E, 0x0030 },
                                         { 0x7C3F, 0x0030 },
                                         { 0x7C40, 0x0030 },
                                         { 0x7C41, 0x0030 },
                                         { 0x7C42, 0x0030 },
                                         { 0x7C43, 0x0030 },
                                         { 0x7C44, 0x0030 },
                                         { 0x7C45, 0x0030 },
                                         { 0x7C46, 0x0030 },
                                         { 0x7C47, 0x0030 },
                                         { 0x7C48, 0x0030 },
                                         { 0x7C49, 0x0030 } },
                                       { { 0x7C4A, 0x0030 },
                                         { 0x7C4B, 0x0030 },
                                         { 0x7C4C, 0x0030 },
                                         { 0x7C4D, 0x0030 },
                                         { 0x7C4E, 0x0030 },
                                         { 0x7C4F, 0x0030 },
                                         { 0x7C50, 0x0030 },
                                         { 0x7C51, 0x0030 },
                                         { 0x7C52, 0x0030 },
                                         { 0x7C53, 0x0030 },
                                         { 0x7C54, 0x0030 },
                                         { 0x7C55, 0x0030 },
                                         { 0x7C56, 0x0030 },
                                         { 0x7C57, 0x0030 },
                                         { 0x7C58, 0x0030 },
                                         { 0x7C59, 0x0030 },
                                         { 0x7C5A, 0x0030 },
                                         { 0x7C5B, 0x0030 } },
                                       { { 0x7C5C, 0x0030 },
                                         { 0x7C5D, 0x0030 },
                                         { 0x7C5E, 0x0030 },
                                         { 0x7C5F, 0x0030 },
                                         { 0x7C60, 0x0030 },
                                         { 0x7C61, 0x0030 },
                                         { 0x7C62, 0x0030 },
                                         { 0x7C63, 0x0030 },
                                         { 0x7C64, 0x0030 },
                                         { 0x7C65, 0x0030 },
                                         { 0x7C66, 0x0030 },
                                         { 0x7C67, 0x0030 },
                                         { 0x7C68, 0x0030 },
                                         { 0x7C69, 0x0030 },
                                         { 0x7C6A, 0x0030 },
                                         { 0x7C6B, 0x0030 },
                                         { 0x7C6C, 0x0030 },
                                         { 0x7C6D, 0x0030 } },
                                       { { 0x7C6E, 0x0000 },
                                         { 0x7C6F, 0x0000 },
                                         { 0x7C70, 0x0000 },
                                         { 0x7C71, 0x0000 },
                                         { 0x7C72, 0x0000 },
                                         { 0x7C73, 0x0000 },
                                         { 0x7C74, 0x0000 },
                                         { 0x7C75, 0x0000 },
                                         { 0x7C76, 0x0000 },
                                         { 0x7C77, 0x0000 },
                                         { 0x7C78, 0x0000 },
                                         { 0x7C79, 0x0000 },
                                         { 0x7C7A, 0x0000 },
                                         { 0x7C7B, 0x0000 },
                                         { 0x7C7C, 0x0000 },
                                         { 0x7C7D, 0x0000 },
                                         { 0x7C7E, 0x0000 },
                                         { 0x7C7F, 0x0000 } } },
                                     { { { 0x7B60, 0x0032 },
                                         { 0x7B61, 0x0032 },
                                         { 0x7B62, 0x0032 },
                                         { 0x7B63, 0x0032 },
                                         { 0x7B64, 0x0032 },
                                         { 0x7B65, 0x0032 },
                                         { 0x7B66, 0x0032 },
                                         { 0x7B67, 0x0032 },
                                         { 0x7B68, 0x0032 },
                                         { 0x7B69, 0x0032 },
                                         { 0x7B6A, 0x0032 },
                                         { 0x7B6B, 0x0032 },
                                         { 0x7B6C, 0x0032 },
                                         { 0x7B6D, 0x0032 },
                                         { 0x7B6E, 0x0032 },
                                         { 0x7B6F, 0x0032 },
                                         { 0x7B70, 0x0032 },
                                         { 0x7B71, 0x0032 } },
                                       { { 0x7B72, 0x0032 },
                                         { 0x7B73, 0x0032 },
                                         { 0x7B74, 0x0032 },
                                         { 0x7B75, 0x0032 },
                                         { 0x7B76, 0x0032 },
                                         { 0x7B77, 0x0032 },
                                         { 0x7B78, 0x0032 },
                                         { 0x7B79, 0x0032 },
                                         { 0x7B7A, 0x0032 },
                                         { 0x7B7B, 0x0032 },
                                         { 0x7B7C, 0x0032 },
                                         { 0x7B7D, 0x0032 },
                                         { 0x7B7E, 0x0032 },
                                         { 0x7B7F, 0x0032 },
                                         { 0x7B80, 0x0032 },
                                         { 0x7B81, 0x0032 },
                                         { 0x7B82, 0x0032 },
                                         { 0x7B83, 0x0032 } },
                                       { { 0x7B84, 0x0032 },
                                         { 0x7B85, 0x0032 },
                                         { 0x7B86, 0x0032 },
                                         { 0x7B87, 0x0032 },
                                         { 0x7B88, 0x0032 },
                                         { 0x7B89, 0x0032 },
                                         { 0x7B8A, 0x0032 },
                                         { 0x7B8B, 0x0032 },
                                         { 0x7B8C, 0x0032 },
                                         { 0x7B8D, 0x0032 },
                                         { 0x7B8E, 0x0032 },
                                         { 0x7B8F, 0x0032 },
                                         { 0x7B90, 0x0032 },
                                         { 0x7B91, 0x0032 },
                                         { 0x7B92, 0x0032 },
                                         { 0x7B93, 0x0032 },
                                         { 0x7B94, 0x0032 },
                                         { 0x7B95, 0x0032 } },
                                       { { 0x7B96, 0x0032 },
                                         { 0x7B97, 0x0032 },
                                         { 0x7B98, 0x0032 },
                                         { 0x7B99, 0x0032 },
                                         { 0x7B9A, 0x0032 },
                                         { 0x7B9B, 0x0032 },
                                         { 0x7B9C, 0x0032 },
                                         { 0x7B9D, 0x0032 },
                                         { 0x7B9E, 0x0032 },
                                         { 0x7B9F, 0x0032 },
                                         { 0x7BA0, 0x0032 },
                                         { 0x7BA1, 0x0032 },
                                         { 0x7BA2, 0x0032 },
                                         { 0x7BA3, 0x0032 },
                                         { 0x7BA4, 0x0032 },
                                         { 0x7BA5, 0x0032 },
                                         { 0x7BA6, 0x0032 },
                                         { 0x7BA7, 0x0032 } },
                                       { { 0x7BA8, 0x0032 },
                                         { 0x7BA9, 0x0032 },
                                         { 0x7BAA, 0x0032 },
                                         { 0x7BAB, 0x0032 },
                                         { 0x7BAC, 0x0032 },
                                         { 0x7BAD, 0x0032 },
                                         { 0x7BAE, 0x0032 },
                                         { 0x7BAF, 0x0032 },
                                         { 0x7BB0, 0x0032 },
                                         { 0x7BB1, 0x0032 },
                                         { 0x7BB2, 0x0032 },
                                         { 0x7BB3, 0x0032 },
                                         { 0x7BB4, 0x0032 },
                                         { 0x7BB5, 0x0032 },
                                         { 0x7BB6, 0x0032 },
                                         { 0x7BB7, 0x0032 },
                                         { 0x7BB8, 0x0032 },
                                         { 0x7BB9, 0x0032 } },
                                       { { 0x7BBA, 0x0032 },
                                         { 0x7BBB, 0x0032 },
                                         { 0x7BBC, 0x0032 },
                                         { 0x7BBD, 0x0032 },
                                         { 0x7BBE, 0x0032 },
                                         { 0x7BBF, 0x0032 },
                                         { 0x7BC0, 0x0032 },
                                         { 0x7BC1, 0x0032 },
                                         { 0x7BC2, 0x0032 },
                                         { 0x7BC3, 0x0032 },
                                         { 0x7BC4, 0x0032 },
                                         { 0x7BC5, 0x0032 },
                                         { 0x7BC6, 0x0032 },
                                         { 0x7BC7, 0x0032 },
                                         { 0x7BC8, 0x0032 },
                                         { 0x7BC9, 0x0032 },
                                         { 0x7BCA, 0x0032 },
                                         { 0x7BCB, 0x0032 } },
                                       { { 0x7BCC, 0x0032 },
                                         { 0x7BCD, 0x0032 },
                                         { 0x7BCE, 0x0032 },
                                         { 0x7BCF, 0x0032 },
                                         { 0x7BD0, 0x0032 },
                                         { 0x7BD1, 0x0032 },
                                         { 0x7BD2, 0x0032 },
                                         { 0x7BD3, 0x0032 },
                                         { 0x7BD4, 0x0032 },
                                         { 0x7BD5, 0x0032 },
                                         { 0x7BD6, 0x0032 },
                                         { 0x7BD7, 0x0032 },
                                         { 0x7BD8, 0x0032 },
                                         { 0x7BD9, 0x0032 },
                                         { 0x7BDA, 0x0032 },
                                         { 0x7BDB, 0x0032 },
                                         { 0x7BDC, 0x0032 },
                                         { 0x7BDD, 0x0032 } },
                                       { { 0x7BDE, 0x0032 },
                                         { 0x7BDF, 0x0032 },
                                         { 0x7BE0, 0x0032 },
                                         { 0x7BE1, 0x0032 },
                                         { 0x7BE2, 0x0032 },
                                         { 0x7BE3, 0x0032 },
                                         { 0x7BE4, 0x0032 },
                                         { 0x7BE5, 0x0032 },
                                         { 0x7BE6, 0x0032 },
                                         { 0x7BE7, 0x0032 },
                                         { 0x7BE8, 0x0032 },
                                         { 0x7BE9, 0x0032 },
                                         { 0x7BEA, 0x0032 },
                                         { 0x7BEB, 0x0032 },
                                         { 0x7BEC, 0x0032 },
                                         { 0x7BED, 0x0032 },
                                         { 0x7BEE, 0x0032 },
                                         { 0x7BEF, 0x0032 } } },
                                     { { { 0x7AD0, 0x0031 },
                                         { 0x7AD1, 0x0031 },
                                         { 0x7AD2, 0x0031 },
                                         { 0x7AD3, 0x0031 },
                                         { 0x7AD4, 0x0031 },
                                         { 0x7AD5, 0x0031 },
                                         { 0x7AD6, 0x0031 },
                                         { 0x7AD7, 0x0031 },
                                         { 0x7AD8, 0x0031 },
                                         { 0x7AD9, 0x0031 },
                                         { 0x7ADA, 0x0031 },
                                         { 0x7ADB, 0x0031 },
                                         { 0x7ADC, 0x0031 },
                                         { 0x7ADD, 0x0031 },
                                         { 0x7ADE, 0x0031 },
                                         { 0x7ADF, 0x0031 },
                                         { 0x7AE0, 0x0031 },
                                         { 0x7AE1, 0x0031 } },
                                       { { 0x7AE2, 0x0031 },
                                         { 0x7AE3, 0x0031 },
                                         { 0x7AE4, 0x0031 },
                                         { 0x7AE5, 0x0031 },
                                         { 0x7AE6, 0x0031 },
                                         { 0x7AE7, 0x0031 },
                                         { 0x7AE8, 0x0031 },
                                         { 0x7AE9, 0x0031 },
                                         { 0x7AEA, 0x0031 },
                                         { 0x7AEB, 0x0031 },
                                         { 0x7AEC, 0x0031 },
                                         { 0x7AED, 0x0031 },
                                         { 0x7AEE, 0x0031 },
                                         { 0x7AEF, 0x0031 },
                                         { 0x7AF0, 0x0031 },
                                         { 0x7AF1, 0x0031 },
                                         { 0x7AF2, 0x0031 },
                                         { 0x7AF3, 0x0031 } },
                                       { { 0x7AF4, 0x0031 },
                                         { 0x7AF5, 0x0031 },
                                         { 0x7AF6, 0x0031 },
                                         { 0x7AF7, 0x0031 },
                                         { 0x7AF8, 0x0031 },
                                         { 0x7AF9, 0x0031 },
                                         { 0x7AFA, 0x0031 },
                                         { 0x7AFB, 0x0031 },
                                         { 0x7AFC, 0x0031 },
                                         { 0x7AFD, 0x0031 },
                                         { 0x7AFE, 0x0031 },
                                         { 0x7AFF, 0x0031 },
                                         { 0x7B00, 0x0031 },
                                         { 0x7B01, 0x0031 },
                                         { 0x7B02, 0x0031 },
                                         { 0x7B03, 0x0031 },
                                         { 0x7B04, 0x0031 },
                                         { 0x7B05, 0x0031 } },
                                       { { 0x7B06, 0x0031 },
                                         { 0x7B07, 0x0031 },
                                         { 0x7B08, 0x0031 },
                                         { 0x7B09, 0x0031 },
                                         { 0x7B0A, 0x0031 },
                                         { 0x7B0B, 0x0031 },
                                         { 0x7B0C, 0x0031 },
                                         { 0x7B0D, 0x0031 },
                                         { 0x7B0E, 0x0031 },
                                         { 0x7B0F, 0x0031 },
                                         { 0x7B10, 0x0031 },
                                         { 0x7B11, 0x0031 },
                                         { 0x7B12, 0x0031 },
                                         { 0x7B13, 0x0031 },
                                         { 0x7B14, 0x0031 },
                                         { 0x7B15, 0x0031 },
                                         { 0x7B16, 0x0031 },
                                         { 0x7B17, 0x0031 } },
                                       { { 0x7B18, 0x0031 },
                                         { 0x7B19, 0x0031 },
                                         { 0x7B1A, 0x0031 },
                                         { 0x7B1B, 0x0031 },
                                         { 0x7B1C, 0x0031 },
                                         { 0x7B1D, 0x0031 },
                                         { 0x7B1E, 0x0031 },
                                         { 0x7B1F, 0x0031 },
                                         { 0x7B20, 0x0031 },
                                         { 0x7B21, 0x0031 },
                                         { 0x7B22, 0x0031 },
                                         { 0x7B23, 0x0031 },
                                         { 0x7B24, 0x0031 },
                                         { 0x7B25, 0x0031 },
                                         { 0x7B26, 0x0031 },
                                         { 0x7B27, 0x0031 },
                                         { 0x7B28, 0x0031 },
                                         { 0x7B29, 0x0031 } },
                                       { { 0x7B2A, 0x0031 },
                                         { 0x7B2B, 0x0031 },
                                         { 0x7B2C, 0x0031 },
                                         { 0x7B2D, 0x0031 },
                                         { 0x7B2E, 0x0031 },
                                         { 0x7B2F, 0x0031 },
                                         { 0x7B30, 0x0031 },
                                         { 0x7B31, 0x0031 },
                                         { 0x7B32, 0x0031 },
                                         { 0x7B33, 0x0031 },
                                         { 0x7B34, 0x0031 },
                                         { 0x7B35, 0x0031 },
                                         { 0x7B36, 0x0031 },
                                         { 0x7B37, 0x0031 },
                                         { 0x7B38, 0x0031 },
                                         { 0x7B39, 0x0031 },
                                         { 0x7B3A, 0x0031 },
                                         { 0x7B3B, 0x0031 } },
                                       { { 0x7B3C, 0x0031 },
                                         { 0x7B3D, 0x0031 },
                                         { 0x7B3E, 0x0031 },
                                         { 0x7B3F, 0x0031 },
                                         { 0x7B40, 0x0031 },
                                         { 0x7B41, 0x0031 },
                                         { 0x7B42, 0x0031 },
                                         { 0x7B43, 0x0031 },
                                         { 0x7B44, 0x0031 },
                                         { 0x7B45, 0x0031 },
                                         { 0x7B46, 0x0031 },
                                         { 0x7B47, 0x0031 },
                                         { 0x7B48, 0x0031 },
                                         { 0x7B49, 0x0031 },
                                         { 0x7B4A, 0x0031 },
                                         { 0x7B4B, 0x0031 },
                                         { 0x7B4C, 0x0031 },
                                         { 0x7B4D, 0x0031 } },
                                       { { 0x7B4E, 0x0031 },
                                         { 0x7B4F, 0x0031 },
                                         { 0x7B50, 0x0031 },
                                         { 0x7B51, 0x0031 },
                                         { 0x7B52, 0x0031 },
                                         { 0x7B53, 0x0031 },
                                         { 0x7B54, 0x0031 },
                                         { 0x7B55, 0x0031 },
                                         { 0x7B56, 0x0031 },
                                         { 0x7B57, 0x0031 },
                                         { 0x7B58, 0x0031 },
                                         { 0x7B59, 0x0031 },
                                         { 0x7B5A, 0x0031 },
                                         { 0x7B5B, 0x0031 },
                                         { 0x7B5C, 0x0031 },
                                         { 0x7B5D, 0x0031 },
                                         { 0x7B5E, 0x0031 },
                                         { 0x7B5F, 0x0031 } } },
                                     { { { 0x7A40, 0x0000 },
                                         { 0x7A41, 0x0000 },
                                         { 0x7A42, 0x0000 },
                                         { 0x7A43, 0x0000 },
                                         { 0x7A44, 0x0000 },
                                         { 0x7A45, 0x0000 },
                                         { 0x7A46, 0x0000 },
                                         { 0x7A47, 0x0000 },
                                         { 0x7A48, 0x0000 },
                                         { 0x7A49, 0x0000 },
                                         { 0x7A4A, 0x0000 },
                                         { 0x7A4B, 0x0000 },
                                         { 0x7A4C, 0x0000 },
                                         { 0x7A4D, 0x0000 },
                                         { 0x7A4E, 0x0000 },
                                         { 0x7A4F, 0x0000 },
                                         { 0x7A50, 0x0000 },
                                         { 0x7A51, 0x0000 } },
                                       { { 0x7A52, 0x0000 },
                                         { 0x7A53, 0x0000 },
                                         { 0x7A54, 0x0000 },
                                         { 0x7A55, 0x0000 },
                                         { 0x7A56, 0x0000 },
                                         { 0x7A57, 0x0000 },
                                         { 0x7A58, 0x0000 },
                                         { 0x7A59, 0x0000 },
                                         { 0x7A5A, 0x0000 },
                                         { 0x7A5B, 0x0000 },
                                         { 0x7A5C, 0x0000 },
                                         { 0x7A5D, 0x0000 },
                                         { 0x7A5E, 0x0000 },
                                         { 0x7A5F, 0x0000 },
                                         { 0x7A60, 0x0000 },
                                         { 0x7A61, 0x0000 },
                                         { 0x7A62, 0x0000 },
                                         { 0x7A63, 0x0000 } },
                                       { { 0x7A64, 0x0000 },
                                         { 0x7A65, 0x0000 },
                                         { 0x7A66, 0x0000 },
                                         { 0x7A67, 0x0000 },
                                         { 0x7A68, 0x0000 },
                                         { 0x7A69, 0x0000 },
                                         { 0x7A6A, 0x0000 },
                                         { 0x7A6B, 0x0000 },
                                         { 0x7A6C, 0x0000 },
                                         { 0x7A6D, 0x0000 },
                                         { 0x7A6E, 0x0000 },
                                         { 0x7A6F, 0x0000 },
                                         { 0x7A70, 0x0000 },
                                         { 0x7A71, 0x0000 },
                                         { 0x7A72, 0x0000 },
                                         { 0x7A73, 0x0000 },
                                         { 0x7A74, 0x0000 },
                                         { 0x7A75, 0x0000 } },
                                       { { 0x7A76, 0x0000 },
                                         { 0x7A77, 0x0000 },
                                         { 0x7A78, 0x0000 },
                                         { 0x7A79, 0x0000 },
                                         { 0x7A7A, 0x0000 },
                                         { 0x7A7B, 0x0000 },
                                         { 0x7A7C, 0x0000 },
                                         { 0x7A7D, 0x0000 },
                                         { 0x7A7E, 0x0000 },
                                         { 0x7A7F, 0x0000 },
                                         { 0x7A80, 0x0000 },
                                         { 0x7A81, 0x0000 },
                                         { 0x7A82, 0x0000 },
                                         { 0x7A83, 0x0000 },
                                         { 0x7A84, 0x0000 },
                                         { 0x7A85, 0x0000 },
                                         { 0x7A86, 0x0000 },
                                         { 0x7A87, 0x0000 } },
                                       { { 0x7A88, 0x0000 },
                                         { 0x7A89, 0x0000 },
                                         { 0x7A8A, 0x0000 },
                                         { 0x7A8B, 0x0000 },
                                         { 0x7A8C, 0x0000 },
                                         { 0x7A8D, 0x0000 },
                                         { 0x7A8E, 0x0000 },
                                         { 0x7A8F, 0x0000 },
                                         { 0x7A90, 0x0000 },
                                         { 0x7A91, 0x0000 },
                                         { 0x7A92, 0x0000 },
                                         { 0x7A93, 0x0000 },
                                         { 0x7A94, 0x0000 },
                                         { 0x7A95, 0x0000 },
                                         { 0x7A96, 0x0000 },
                                         { 0x7A97, 0x0000 },
                                         { 0x7A98, 0x0000 },
                                         { 0x7A99, 0x0000 } },
                                       { { 0x7A9A, 0x0000 },
                                         { 0x7A9B, 0x0000 },
                                         { 0x7A9C, 0x0000 },
                                         { 0x7A9D, 0x0000 },
                                         { 0x7A9E, 0x0000 },
                                         { 0x7A9F, 0x0000 },
                                         { 0x7AA0, 0x0000 },
                                         { 0x7AA1, 0x0000 },
                                         { 0x7AA2, 0x0000 },
                                         { 0x7AA3, 0x0000 },
                                         { 0x7AA4, 0x0000 },
                                         { 0x7AA5, 0x0000 },
                                         { 0x7AA6, 0x0000 },
                                         { 0x7AA7, 0x0000 },
                                         { 0x7AA8, 0x0000 },
                                         { 0x7AA9, 0x0000 },
                                         { 0x7AAA, 0x0000 },
                                         { 0x7AAB, 0x0000 } },
                                       { { 0x7AAC, 0x0000 },
                                         { 0x7AAD, 0x0000 },
                                         { 0x7AAE, 0x0000 },
                                         { 0x7AAF, 0x0000 },
                                         { 0x7AB0, 0x0000 },
                                         { 0x7AB1, 0x0000 },
                                         { 0x7AB2, 0x0000 },
                                         { 0x7AB3, 0x0000 },
                                         { 0x7AB4, 0x0000 },
                                         { 0x7AB5, 0x0000 },
                                         { 0x7AB6, 0x0000 },
                                         { 0x7AB7, 0x0000 },
                                         { 0x7AB8, 0x0000 },
                                         { 0x7AB9, 0x0000 },
                                         { 0x7ABA, 0x0000 },
                                         { 0x7ABB, 0x0000 },
                                         { 0x7ABC, 0x0000 },
                                         { 0x7ABD, 0x0000 } },
                                       { { 0x7ABE, 0x0000 },
                                         { 0x7ABF, 0x0000 },
                                         { 0x7AC0, 0x0000 },
                                         { 0x7AC1, 0x0000 },
                                         { 0x7AC2, 0x0000 },
                                         { 0x7AC3, 0x0000 },
                                         { 0x7AC4, 0x0000 },
                                         { 0x7AC5, 0x0000 },
                                         { 0x7AC6, 0x0000 },
                                         { 0x7AC7, 0x0000 },
                                         { 0x7AC8, 0x0000 },
                                         { 0x7AC9, 0x0000 },
                                         { 0x7ACA, 0x0000 },
                                         { 0x7ACB, 0x0000 },
                                         { 0x7ACC, 0x0000 },
                                         { 0x7ACD, 0x0000 },
                                         { 0x7ACE, 0x0000 },
                                         { 0x7ACF, 0x0000 } } },
                                     { { { 0x79B0, 0x0000 },
                                         { 0x79B1, 0x0000 },
                                         { 0x79B2, 0x0000 },
                                         { 0x79B3, 0x0000 },
                                         { 0x79B4, 0x0000 },
                                         { 0x79B5, 0x0000 },
                                         { 0x79B6, 0x0000 },
                                         { 0x79B7, 0x0000 },
                                         { 0x79B8, 0x0000 },
                                         { 0x79B9, 0x0000 },
                                         { 0x79BA, 0x0000 },
                                         { 0x79BB, 0x0000 },
                                         { 0x79BC, 0x0000 },
                                         { 0x79BD, 0x0000 },
                                         { 0x79BE, 0x0000 },
                                         { 0x79BF, 0x0000 },
                                         { 0x79C0, 0x0000 },
                                         { 0x79C1, 0x0000 } },
                                       { { 0x79C2, 0x0000 },
                                         { 0x79C3, 0x0000 },
                                         { 0x79C4, 0x0000 },
                                         { 0x79C5, 0x0000 },
                                         { 0x79C6, 0x0000 },
                                         { 0x79C7, 0x0000 },
                                         { 0x79C8, 0x0000 },
                                         { 0x79C9, 0x0000 },
                                         { 0x79CA, 0x0000 },
                                         { 0x79CB, 0x0000 },
                                         { 0x79CC, 0x0000 },
                                         { 0x79CD, 0x0000 },
                                         { 0x79CE, 0x0000 },
                                         { 0x79CF, 0x0000 },
                                         { 0x79D0, 0x0000 },
                                         { 0x79D1, 0x0000 },
                                         { 0x79D2, 0x0000 },
                                         { 0x79D3, 0x0000 } },
                                       { { 0x79D4, 0x0000 },
                                         { 0x79D5, 0x0000 },
                                         { 0x79D6, 0x0000 },
                                         { 0x79D7, 0x0000 },
                                         { 0x79D8, 0x0000 },
                                         { 0x79D9, 0x0000 },
                                         { 0x79DA, 0x0000 },
                                         { 0x79DB, 0x0000 },
                                         { 0x79DC, 0x0000 },
                                         { 0x79DD, 0x0000 },
                                         { 0x79DE, 0x0000 },
                                         { 0x79DF, 0x0000 },
                                         { 0x79E0, 0x0000 },
                                         { 0x79E1, 0x0000 },
                                         { 0x79E2, 0x0000 },
                                         { 0x79E3, 0x0000 },
                                         { 0x79E4, 0x0000 },
                                         { 0x79E5, 0x0000 } },
                                       { { 0x79E6, 0x0000 },
                                         { 0x79E7, 0x0000 },
                                         { 0x79E8, 0x0000 },
                                         { 0x79E9, 0x0000 },
                                         { 0x79EA, 0x0000 },
                                         { 0x79EB, 0x0000 },
                                         { 0x79EC, 0x0000 },
                                         { 0x79ED, 0x0000 },
                                         { 0x79EE, 0x0000 },
                                         { 0x79EF, 0x0000 },
                                         { 0x79F0, 0x0000 },
                                         { 0x79F1, 0x0000 },
                                         { 0x79F2, 0x0000 },
                                         { 0x79F3, 0x0000 },
                                         { 0x79F4, 0x0000 },
                                         { 0x79F5, 0x0000 },
                                         { 0x79F6, 0x0000 },
                                         { 0x79F7, 0x0000 } },
                                       { { 0x79F8, 0x0000 },
                                         { 0x79F9, 0x0000 },
                                         { 0x79FA, 0x0000 },
                                         { 0x79FB, 0x0000 },
                                         { 0x79FC, 0x0000 },
                                         { 0x79FD, 0x0000 },
                                         { 0x79FE, 0x0000 },
                                         { 0x79FF, 0x0000 },
                                         { 0x7A00, 0x0000 },
                                         { 0x7A01, 0x0000 },
                                         { 0x7A02, 0x0000 },
                                         { 0x7A03, 0x0000 },
                                         { 0x7A04, 0x0000 },
                                         { 0x7A05, 0x0000 },
                                         { 0x7A06, 0x0000 },
                                         { 0x7A07, 0x0000 },
                                         { 0x7A08, 0x0000 },
                                         { 0x7A09, 0x0000 } },
                                       { { 0x7A0A, 0x0000 },
                                         { 0x7A0B, 0x0000 },
                                         { 0x7A0C, 0x0000 },
                                         { 0x7A0D, 0x0000 },
                                         { 0x7A0E, 0x0000 },
                                         { 0x7A0F, 0x0000 },
                                         { 0x7A10, 0x0000 },
                                         { 0x7A11, 0x0000 },
                                         { 0x7A12, 0x0000 },
                                         { 0x7A13, 0x0000 },
                                         { 0x7A14, 0x0000 },
                                         { 0x7A15, 0x0000 },
                                         { 0x7A16, 0x0000 },
                                         { 0x7A17, 0x0000 },
                                         { 0x7A18, 0x0000 },
                                         { 0x7A19, 0x0000 },
                                         { 0x7A1A, 0x0000 },
                                         { 0x7A1B, 0x0000 } },
                                       { { 0x7A1C, 0x0000 },
                                         { 0x7A1D, 0x0000 },
                                         { 0x7A1E, 0x0000 },
                                         { 0x7A1F, 0x0000 },
                                         { 0x7A20, 0x0000 },
                                         { 0x7A21, 0x0000 },
                                         { 0x7A22, 0x0000 },
                                         { 0x7A23, 0x0000 },
                                         { 0x7A24, 0x0000 },
                                         { 0x7A25, 0x0000 },
                                         { 0x7A26, 0x0000 },
                                         { 0x7A27, 0x0000 },
                                         { 0x7A28, 0x0000 },
                                         { 0x7A29, 0x0000 },
                                         { 0x7A2A, 0x0000 },
                                         { 0x7A2B, 0x0000 },
                                         { 0x7A2C, 0x0000 },
                                         { 0x7A2D, 0x0000 } },
                                       { { 0x7A2E, 0x0000 },
                                         { 0x7A2F, 0x0000 },
                                         { 0x7A30, 0x0000 },
                                         { 0x7A31, 0x0000 },
                                         { 0x7A32, 0x0000 },
                                         { 0x7A33, 0x0000 },
                                         { 0x7A34, 0x0000 },
                                         { 0x7A35, 0x0000 },
                                         { 0x7A36, 0x0000 },
                                         { 0x7A37, 0x0000 },
                                         { 0x7A38, 0x0000 },
                                         { 0x7A39, 0x0000 },
                                         { 0x7A3A, 0x0000 },
                                         { 0x7A3B, 0x0000 },
                                         { 0x7A3C, 0x0000 },
                                         { 0x7A3D, 0x0000 },
                                         { 0x7A3E, 0x0000 },
                                         { 0x7A3F, 0x0000 } } } };

void effect_C3_move(WORK_Other* ewk) {
    switch (ewk->wu.routine_no[0]) {
    case 0:
        ewk->wu.routine_no[0]++;
        ewk->wu.disp_flag = 1;
        ewk->wu.charset_id = 17;
        set_char_base_data(&ewk->wu);
        get_bs2_parts_data(&ewk->wu);
        clear_parts_hit_data(&ewk->wu);
        set_display_car_parts(ewk);

        if (c3_hit_disp_check(ewk->wu.type)) {
            effect_00_init(&ewk->wu);
        }

        clear_attack_num(&ewk->wu);
        break;

    case 1:
        if (ewk->wu.dead_f == 1) {
            ewk->wu.disp_flag = 0;
            ewk->wu.routine_no[0] = 2;
            ewk->wu.routine_no[1] = 1;
            break;
        }

        ewk->wu.dir_old = bs2_sync_bomb(&ewk->wu);

        if (EXE_flag == 0 && Game_pause == 0) {
            effC3_main_process(ewk);
        }

        if (ewk->wu.dir_old == 0) {
            hit_push_request(&ewk->wu);
        }

        bs2_display_C3(&ewk->wu);
        break;

    case 2:
        switch (ewk->wu.routine_no[1]) {
        case 0:
            if (check_effc2_p2_rno(&ewk->wu) == 0) {
                bs2_display_C3(&ewk->wu);
                break;
            }

            ewk->wu.disp_flag = 0;
            clear_parts_hit_data(&ewk->wu);

            if (ewk->wu.type != 3) {
                ewk->wu.routine_no[1] = 1;
            } else {
                ewk->wu.routine_no[1] = 10;
            }

            break;

        case 1:
            ewk->wu.routine_no[0] = 3;
            ewk->wu.routine_no[1] = 0;
            break;

        case 10:
            switch (get_efffC3_nsc(&ewk->wu, (WORK*)ewk->wu.my_effadrs)) {
            case 0:
                ewk->wu.disp_flag = 0;
                break;

            case 1:
                ewk->wu.disp_flag = 1;
                break;

            default:
                ewk->wu.disp_flag = 0;
                ewk->wu.routine_no[1] = 1;
                break;
            }

            sort_push_request(&ewk->wu);
            break;
        }

        break;

    default:
        push_effect_work(&ewk->wu);
        break;
    }
}

void bs2_display_C3(WORK* wk) {
    wk->position_x = wk->xyz[0].disp.pos + wk->next_x;
    wk->position_y = wk->xyz[1].disp.pos + wk->next_y;
    wk->next_y = 0;
    set_parts_priority(wk);
    sort_push_request(wk);
}

void set_display_car_parts(WORK_Other* wk) {
    const u16* adrs;

    bs2_get_parts_break(&wk->wu);
    adrs = car_parts[wk->wu.type - 1][wk->wu.scr_mv_y][wk->wu.scr_mv_x - 1];
    wk->wu.cg_number = adrs[0];
    wk->wu.h_bod = wk->wu.body_adrs + (wk->wu.cg_hit_ix = adrs[1]);
}

void clear_parts_hit_data(WORK* wk) {
    wk->cg_ja = wk->hit_ix_table[0];
    wk->h_bod = &wk->body_adrs[wk->cg_ja.boix];
    wk->h_cat = &wk->catch_adrs[wk->cg_ja.caix];
    wk->h_cau = &wk->caught_adrs[wk->cg_ja.cuix];
    wk->h_att = &wk->attack_adrs[wk->cg_ja.atix];
    wk->h_hos = &wk->hosei_adrs[wk->cg_ja.hoix];
    wk->h_han = &wk->hand_adrs[wk->cg_ja.bhix + wk->cg_ja.haix];
}

void effC3_main_process(WORK_Other* ewk) {
    if (ewk->wu.dir_old) {
        ewk->wu.routine_no[0] = 2;
        ewk->wu.routine_no[1] = 0;
        ewk->wu.routine_no[2] = 0;
        bs2_get_parts_break(&ewk->wu);
        set_char_move_init2(&ewk->wu, 0, ewk->wu.dir_step + 7, ewk->wu.scr_mv_x, 0);

        if (ewk->wu.vital_old < 7) {
            setup_effK2_sync_bomb(&ewk->wu);
        }

        return;
    }

    switch (ewk->wu.routine_no[1]) {
    case 0:
        break;

    case 1:
        switch (ewk->wu.routine_no[2]) {
        case 0:
            c3_new_damage(&ewk->wu);
            ewk->wu.routine_no[2] = 1;
            break;

        case 1:
            if (check_parts_break_level(&ewk->wu)) {
                setup_effK2(&ewk->wu);
            }

            if (!setup_effK3(&ewk->wu)) {
                setup_effK4(&ewk->wu);
            }

            ewk->wu.routine_no[1] = 0;
            ewk->wu.routine_no[2] = 0;
            break;
        }

        break;
    }

    set_display_car_parts(ewk);
    get_shizumi_guai(&ewk->wu);
}

s32 get_efffC3_nsc(WORK* wk, WORK* c2wk) {
    u16 num = c2wk->cg_number - 0x7DAA;

    wk->position_x = c2wk->position_x;
    wk->position_y = c2wk->position_y;
    wk->position_z = c2wk->position_z + 2;

    if (num < 6) {
        wk->cg_number = effC3_nsc[num];
        return 1;
    }

    if (c2wk->routine_no[0] == 2 && c2wk->routine_no[1] == 1) {
        return -1;
    }

    return 0;
}

s32 effect_C3_init(WORK_Other* wk, s16 data) {
    WORK_Other* ewk;
    s16 ix;

    if ((ix = pull_effect_work(1)) == -1) {
        return -1;
    }

    ewk = (WORK_Other*)frw[ix];
    ewk->wu.be_flag = 1;
    ewk->wu.id = 123;
    ewk->wu.type = data;
    ewk->wu.my_mts = 5;
    ewk->my_master = (u32*)wk->my_master;
    ewk->wu.target_adrs = wk->wu.target_adrs;
    ewk->wu.my_effadrs = (u32*)wk;
    ewk->master_player = wk->master_player;
    ewk->master_id = wk->master_id;
    ewk->master_work_id = wk->master_work_id;
    effect_C3_move(ewk);
    return 0;
}
